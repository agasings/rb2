<!-- 참조사항
   1. 등록폼에 등록자 아바타가 필요한 경우 : <img src="{$login_user_pic}">
   2. data-*="*" 필수
-->

<div class="d-flex border-0 rounded-0 bg-faded align-items-end" data-role="comment-input-wrapper">
  <div class="border-0">
    <span class="input-group-text p-1 bg-transparent">
      <img src="{$login_user_pic}" width="28" class="rounded-circle border">
    </span>
  </div>

  <section class="w-100 mb-1">
    <div data-role="editor">
  		<div data-role="comment-input" id="meta-description-content"  class="border-0"></div>
  	</div>
  </section>

  <div class="d-flex ml-auto">
    <div class="toolbar-container"></div>
    <button type="button" class="btn btn-link ml-1 js-submit "
      data-kcact="regis"
      data-type="comment"
      data-effect="animated fadeInUp"
      data-parent="{$comment_parent}">
      <i class="fa fa-paper-plane" aria-hidden="true"></i>
    </button>
  </div>
</div>

<script>

$('[data-role="commentWrite-container"] textarea').on('keyup', function(event) {
  var writeLine = $('[data-role="commentWrite-container"]')
  writeLine.find('.js-submit').addClass('d-none').removeClass("animated bounceIn delay-3");

  if ($(this).val().length >= 1) {
    writeLine.find('.js-submit').removeClass('d-none').addClass("animated bounceIn delay-3");
  }
});


var textarea_container = $('[data-role="comment-input-wrapper"]')
var textarea = $('#meta-description-content');

textarea.focus(function(){
  textarea_container.addClass('active')
});
textarea.blur(function(){
  setTimeout(function(){
    textarea_container.removeClass('active')
  }, 200);
});

// 댓글이 등록된 후에
$('#commentting-container').on('saved.rb.comment',function(){
  textarea.removeAttr("style");
})



</script>
